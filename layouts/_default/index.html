{{ define "main" }}
    <section class="header-section section-contrast">
      <div class="header-container tl-grid tl-grid__container tl-grid--spacing-large tl-grid--spacing-row-undefined">
        <div class="tl-grid tl-grid__item tl-grid--small-12 tl-grid--medium-7">
          <h1>{{ .Title }}</h1>

          {{ .Content}}
          <!-- landing page layout -->
        </div>
        <div class="tl-grid tl-grid__item tl-grid--small-12 tl-grid--medium-5">
          <img class="hero-illustration" src="{{ .Params.Hero }}">
        </div>
      </div>
    </section>

    <div class="home-container__segment home-container__front-blocks">
      <div class="tl-grid home-container__navigation-cards tl-grid__container tl-grid--spacing-large">

        {{ $headless := .Site.GetPage "/headless" }}
        {{ $frontBlocks := $headless.Resources.Match "front*" }}
        {{ range $frontBlocks }}
          <div class="tl-grid tl-grid__item tl-grid--small-12 tl-grid--medium-4">
            <a class="tl-base-card tl-navigation-card" href="{{ .Params.Link }}">
              <div class="tl-navigation-card__title-icon">
                <img src="{{ .Params.Icon }}">
              </div>
              <span class="tl-navigation-card__title">{{ .Title }}</span>
              <div class="tl-paragraph tl-paragraph--margin-bottom">{{ .Content }}</div>
            </a>
          </div>
        {{ end }}

      </div>
    </div>

    <div class="home-container__segment">
      <div class="tl-grid home-container__cases_news tl-grid__container tl-grid--spacing-large tl-grid--spacing-row-undefined">
        <div class="tl-grid tl-grid__item tl-grid--small-12 tl-grid--medium-6">
          <h2 class="tl-h2">Use cases</h2>
          {{ range ( where .Site.RegularPages "Type" "cases" | first 3 ) }}
            <a class="tl-media-card__text" href="{{ .Permalink }}">
              <div class="tl-base-card tl-base-card tl-media-card article-preview-card">
                <div class="tl-media-card__media">
                  <img src="{{ .Params.Image }}">
                </div>
                <div class="tl-media-card__text">
                  <label class="tl-label tl-media-card__category"></label>
                  <div class="tl-media-card__title">{{ .Title }}</div>
                  <p class="tl-paragraph tl-paragraph--margin-bottom">{{ .Summary }}</p>
                  <svg class="tl-icon tl-media-card__arrow-icon" viewBox="0 0 16 16" width="1em" height="1em" color="currentColor">
                    <path fill="currentColor" fill-rule="evenodd" d="M10.043 2.76l-.943.943 3.625 3.623H1V8.66l11.726-.001L9.1 12.284l.943.943 4.762-4.762a.667.667 0 00.07-.86l-.07-.083-4.762-4.762z" clip-rule="evenodd"></path>
                  </svg>
                </div>
              </div>
            </a>
          {{end}}
        </div>

        <div class="tl-grid tl-grid__item tl-grid--small-12 tl-grid--medium-6 section-front-news">
          <h2 class="tl-h2">News</h2>
          <div class="tl-card-list">
            {{ range ( where .Site.RegularPages "Type" "news" | first 3 ) }}
              <a class="tl-card-list__item" href="{{ .Permalink }}">
                <h3 class="list-item-title">{{ .Title }}</h3>
                <p class="tl-paragraph tl-paragraph--margin-bottom">{{ slicestr .Summary 0 200 | markdownify }} ...</p>
                <svg class="tl-icon tl-navigattion-card__icon tl-navigation-card__arrow-icon" viewBox="0 0 16 16" width="1em" height="1em" color="currentColor">
                  <path fill="currentColor" fill-rule="evenodd" d="M10.043 2.76l-.943.943 3.625 3.623H1V8.66l11.726-.001L9.1 12.284l.943.943 4.762-4.762a.667.667 0 00.07-.86l-.07-.083-4.762-4.762z" clip-rule="evenodd"></path>
                </svg>
              </a>
            {{end}}
          </div>
        </div>

      </div>
    </div>

    {{ if .Params.Mc }}
      {{ partial "mailchimp.html" .}}
    {{ end }}

{{ end }}
